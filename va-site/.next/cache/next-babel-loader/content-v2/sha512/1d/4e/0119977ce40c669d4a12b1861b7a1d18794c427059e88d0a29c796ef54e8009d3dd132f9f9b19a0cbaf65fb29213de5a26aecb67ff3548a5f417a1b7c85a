{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/sovanden/projects/vitaminair.org/va-site/pages/home/leaderBoard.js\";\n// import React from 'react'\nimport { Row, Col, Input, Button } from \"antd\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { useQuery } from \"@apollo/client\";\nimport { GET_DONATIONS, GET_MOST_DONATIONS } from \"../../graphql/query\";\nimport moment from \"moment\";\nimport { useState } from \"react\";\nimport styles from \"../../styles/Home.module.css\";\n\nfunction LeaderBoard() {\n  const {\n    0: value,\n    1: setValue\n  } = useState(\"recent\");\n  const {\n    0: search,\n    1: setSearch\n  } = useState(\"\"); //=====get Data==========\n\n  const {\n    loading,\n    data: donateData,\n    error\n  } = useQuery(GET_DONATIONS);\n  const {\n    loading: lodingMostDonate,\n    data: mostDonateData,\n    error: errorMostDonate\n  } = useQuery(GET_MOST_DONATIONS);\n  if (loading || lodingMostDonate) return null;\n  if (error || errorMostDonate) return `Error! ${error.message}`;\n  console.log(donateData);\n\n  const active = e => {\n    const recents = document.getElementById(\"most-recents\");\n    const trees = document.getElementById(\"most-trees\");\n\n    if (e.target.id === \"most-recents\") {\n      trees.className = styles.clicked;\n      recents.className = \"\";\n      recents.style.zIndex = 2;\n      trees.style.zIndex = 1;\n      setValue(\"recent\");\n    } else if (e.target.id === \"most-trees\") {\n      recents.className = styles.clicked;\n      trees.className = \"\";\n      trees.style.zIndex = 2;\n      recents.style.zIndex = 1;\n      setValue(\"most\");\n    }\n  };\n\n  const handleSearch = e => {\n    setSearch(e.target.value);\n  };\n\n  const results = !search ? donateData.get_donations : donateData.get_donations.filter(data => data.name.toLowerCase().includes(search.toLocaleLowerCase()));\n  const resultsThemost = !search ? mostDonateData.get_most_trees : mostDonateData.get_most_trees.filter(data => data.name.toLowerCase().includes(search.toLocaleLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"50px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"LEADERBOARD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      align: \"middle\",\n      justify: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: styles.search_box,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: search,\n          onChange: handleSearch,\n          className: styles.search,\n          type: \"text\",\n          placeholder: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FaSearch, {\n          className: styles.fa_search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        offset: 1,\n        className: styles.most_recent_trees,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          value: \"recent\",\n          id: \"most-recents\",\n          onClick: active,\n          children: \"Most Recents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          value: \"most\",\n          id: \"most-trees\",\n          className: styles.clicked,\n          onClick: active,\n          children: \"Most Trees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), value === \"recent\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.user_list,\n      children: [results.map(res => {\n        const {\n          tree,\n          name,\n          anonymous,\n          create_at,\n          user_message\n        } = res;\n        console.log(anonymous);\n        return /*#__PURE__*/_jsxDEV(Row, {\n          className: styles.list,\n          align: \"middle\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: styles.avatar,\n            xs: {\n              span: 24\n            },\n            sm: {\n              span: 2\n            },\n            md: {\n              span: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/list-images/icon1.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            flex: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.list_title,\n              children: anonymous === false ? name : \"Anonymous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.list_message,\n              children: user_message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: {\n              span: 24\n            },\n            sm: {\n              span: 24,\n              offset: 3\n            },\n            md: {\n              span: 7\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: tree === 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.badge,\n                children: [tree, \" tree\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.badge,\n                children: [tree, \" trees\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.list_message,\n              children: moment.unix(create_at / 1000).format(\" Do YYYY, h:mm:ss A\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#form\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.add_tree_btn,\n          children: \"ADD YOUR TREE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.user_list,\n      children: [resultsThemost.map(res => {\n        const {\n          tree,\n          name,\n          anonymous,\n          create_at,\n          user_message\n        } = res;\n        console.log(anonymous);\n        return /*#__PURE__*/_jsxDEV(Row, {\n          className: \"list\",\n          align: \"middle\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"avatar\",\n            xs: {\n              span: 24\n            },\n            sm: {\n              span: 2\n            },\n            md: {\n              span: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/list-images/icon1.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            flex: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-title\",\n              children: anonymous === false ? name : \"Anonymous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-message\",\n              children: user_message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: {\n              span: 24\n            },\n            sm: {\n              span: 24,\n              offset: 3\n            },\n            md: {\n              span: 7\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: tree === 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"badge\",\n                children: [tree, \" tree\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"badge\",\n                children: [tree, \" trees\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-message\",\n              children: moment.unix(create_at / 1000).format(\" Do YYYY, h:mm:ss A\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#form\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"add-tree-btn\",\n          children: \"ADD YOUR TREE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\nexport default LeaderBoard; // import React from \"react\"\n// import TestForm from \"./testForm\"\n// const leaderBoard = () => {\n//   return (\n//     <div>\n//       <TestForm />\n//     </div>\n//   )\n// }\n// export default leaderBoard","map":{"version":3,"sources":["/home/sovanden/projects/vitaminair.org/va-site/pages/home/leaderBoard.js"],"names":["Row","Col","Input","Button","FaSearch","useQuery","GET_DONATIONS","GET_MOST_DONATIONS","moment","useState","styles","LeaderBoard","value","setValue","search","setSearch","loading","data","donateData","error","lodingMostDonate","mostDonateData","errorMostDonate","message","console","log","active","e","recents","document","getElementById","trees","target","id","className","clicked","style","zIndex","handleSearch","results","get_donations","filter","name","toLowerCase","includes","toLocaleLowerCase","resultsThemost","get_most_trees","marginTop","search_box","fa_search","most_recent_trees","user_list","map","res","tree","anonymous","create_at","user_message","list","avatar","span","list_title","list_message","offset","badge","unix","format","add_tree_btn"],"mappings":"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","sourcesContent":["// import React from 'react'\nimport { Row, Col, Input, Button } from \"antd\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { useQuery } from \"@apollo/client\";\nimport { GET_DONATIONS, GET_MOST_DONATIONS } from \"../../graphql/query\";\nimport moment from \"moment\";\nimport { useState } from \"react\";\nimport styles from \"../../styles/Home.module.css\";\nfunction LeaderBoard() {\n  const [value, setValue] = useState(\"recent\");\n  const [search, setSearch] = useState(\"\");\n\n  //=====get Data==========\n  const { loading, data: donateData, error } = useQuery(GET_DONATIONS);\n  const {\n    loading: lodingMostDonate,\n    data: mostDonateData,\n    error: errorMostDonate,\n  } = useQuery(GET_MOST_DONATIONS);\n  if (loading || lodingMostDonate) return null;\n  if (error || errorMostDonate) return `Error! ${error.message}`;\n  console.log(donateData);\n  const active = (e) => {\n    const recents = document.getElementById(\"most-recents\");\n    const trees = document.getElementById(\"most-trees\");\n    if (e.target.id === \"most-recents\") {\n      trees.className = styles.clicked;\n      recents.className = \"\";\n      recents.style.zIndex = 2;\n      trees.style.zIndex = 1;\n      setValue(\"recent\");\n    } else if (e.target.id === \"most-trees\") {\n      recents.className = styles.clicked;\n      trees.className = \"\";\n      trees.style.zIndex = 2;\n      recents.style.zIndex = 1;\n      setValue(\"most\");\n    }\n  };\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n  };\n  const results = !search\n    ? donateData.get_donations\n    : donateData.get_donations.filter((data) =>\n        data.name.toLowerCase().includes(search.toLocaleLowerCase())\n      );\n  const resultsThemost = !search\n    ? mostDonateData.get_most_trees\n    : mostDonateData.get_most_trees.filter((data) =>\n        data.name.toLowerCase().includes(search.toLocaleLowerCase())\n      );\n  return (\n    <div style={{ marginTop: \"50px\" }}>\n      <h1>LEADERBOARD</h1>\n      <Row align=\"middle\" justify=\"center\">\n        <Col className={styles.search_box}>\n          <Input\n            value={search}\n            onChange={handleSearch}\n            className={styles.search}\n            type=\"text\"\n            placeholder=\"Search\"\n          />\n          <FaSearch className={styles.fa_search} />\n        </Col>\n        <Col offset={1} className={styles.most_recent_trees}>\n          <button value=\"recent\" id=\"most-recents\" onClick={active}>\n            Most Recents\n          </button>\n          <button\n            value=\"most\"\n            id=\"most-trees\"\n            className={styles.clicked}\n            onClick={active}\n          >\n            Most Trees\n          </button>\n        </Col>\n      </Row>\n      {value === \"recent\" ? (\n        <div className={styles.user_list}>\n          {results.map((res) => {\n            const { tree, name, anonymous, create_at, user_message } = res;\n            console.log(anonymous);\n            return (\n              <Row className={styles.list} align=\"middle\">\n                <Col\n                  className={styles.avatar}\n                  xs={{ span: 24 }}\n                  sm={{ span: 2 }}\n                  md={{ span: 1 }}\n                >\n                  <img src=\"/images/list-images/icon1.svg\" alt=\"\" />\n                </Col>\n                <Col flex=\"auto\">\n                  <p className={styles.list_title}>\n                    {anonymous === false ? name : \"Anonymous\"}\n                  </p>\n                  <p className={styles.list_message}>{user_message}</p>\n                </Col>\n                <Col\n                  xs={{ span: 24 }}\n                  sm={{ span: 24, offset: 3 }}\n                  md={{ span: 7 }}\n                >\n                  <p>\n                    {tree === 1 ? (\n                      <p className={styles.badge}>{tree} tree</p>\n                    ) : (\n                      <p className={styles.badge}>{tree} trees</p>\n                    )}\n                  </p>\n\n                  <p className={styles.list_message}>\n                    {moment\n                      .unix(create_at / 1000)\n                      .format(\" Do YYYY, h:mm:ss A\")}\n                  </p>\n                </Col>\n              </Row>\n            );\n          })}\n          <a href=\"#form\">\n            <Button className={styles.add_tree_btn}>ADD YOUR TREE</Button>\n          </a>\n        </div>\n      ) : (\n        <div className={styles.user_list}>\n          {resultsThemost.map((res) => {\n            const { tree, name, anonymous, create_at, user_message } = res;\n            console.log(anonymous);\n            return (\n              <Row className=\"list\" align=\"middle\">\n                <Col\n                  className=\"avatar\"\n                  xs={{ span: 24 }}\n                  sm={{ span: 2 }}\n                  md={{ span: 1 }}\n                >\n                  <img src=\"/images/list-images/icon1.svg\" alt=\"\" />\n                </Col>\n                <Col flex=\"auto\">\n                  <p className=\"list-title\">\n                    {anonymous === false ? name : \"Anonymous\"}\n                  </p>\n                  <p className=\"list-message\">{user_message}</p>\n                </Col>\n                <Col\n                  xs={{ span: 24 }}\n                  sm={{ span: 24, offset: 3 }}\n                  md={{ span: 7 }}\n                >\n                  <p>\n                    {tree === 1 ? (\n                      <p className=\"badge\">{tree} tree</p>\n                    ) : (\n                      <p className=\"badge\">{tree} trees</p>\n                    )}\n                  </p>\n\n                  <p className=\"list-message\">\n                    {/* {moment.unix(create_at / 1000).format(\"YYYY-MM-DD\")}, */}\n                    {moment\n                      .unix(create_at / 1000)\n                      .format(\" Do YYYY, h:mm:ss A\")}\n                  </p>\n                </Col>\n              </Row>\n            );\n          })}\n          <a href=\"#form\">\n            <Button className=\"add-tree-btn\">ADD YOUR TREE</Button>\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LeaderBoard;\n// import React from \"react\"\n// import TestForm from \"./testForm\"\n\n// const leaderBoard = () => {\n//   return (\n//     <div>\n//       <TestForm />\n//     </div>\n//   )\n// }\n\n// export default leaderBoard\n"]},"metadata":{},"sourceType":"module"}